{"version":3,"sources":["G:/Dashboard/update/sp-project/src/app/login/login.component.css","G:/Dashboard/update/sp-project/src/app/login/login.component.html","G:/Dashboard/update/sp-project/src/app/login/login.component.ts","G:/Dashboard/update/sp-project/src/app/login/login.module.ts","G:/Dashboard/update/sp-project/src/app/login/login.service.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* Title Animation */\\r\\n.animate_fadein {\\r\\n    animation: fadein 2s;\\r\\n    -moz-animation: fadein 2s; /* Firefox */\\r\\n    -webkit-animation: fadein 2s; /* Safari and Chrome */\\r\\n    -o-animation: fadein 2s; /* Opera */\\r\\n}\\r\\n@keyframes fadein {\\r\\n    from {\\r\\n        opacity:0;\\r\\n    }\\r\\n    to {\\r\\n        opacity:1;\\r\\n    }\\r\\n}\\r\\n@-webkit-keyframes fadein { /* Safari and Chrome */\\r\\n    from {\\r\\n        opacity:0;\\r\\n    }\\r\\n    to {\\r\\n        opacity:1;\\r\\n    }\\r\\n}\\r\\n\\r\\n/* Login Styles */\\r\\n.login-page {\\r\\n    -webkit-animation: fadeout 2s;\\r\\n            animation: fadeout 2s;\\r\\n    position:fixed;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n\\r\\n    top:0;\\r\\n    left:0;\\r\\n\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    \\r\\n    background: #76b852; /* fallback for old browsers */\\r\\n    background: linear-gradient(to left, #76b852, #8DC26F);\\r\\n    font-family: \\\"Roboto\\\", sans-serif;\\r\\n    -webkit-font-smoothing: antialiased;\\r\\n    -moz-osx-font-smoothing: grayscale;  \\r\\n  }\\r\\n  .login-page .title{\\r\\n    padding-top: 40px;\\r\\n    font-size: 50px;\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n    text-align:center;\\r\\n  }\\r\\n  .form {\\r\\n    position: relative;\\r\\n    z-index: 1;\\r\\n    background: #FFFFFF;\\r\\n    max-width: 360px;\\r\\n    margin: 40px auto;\\r\\n    padding: 45px;\\r\\n    text-align: center;\\r\\n    box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\\r\\n    -webkit-animation: fadein 2s;\\r\\n            animation: fadein 2s;\\r\\n  }\\r\\n  .form:hover {\\r\\n    transition: box-shadow 200ms;\\r\\n    box-shadow: 0 0 0px 10px rgba(0, 0, 0, 0.2), 0 5px 5px 10px rgba(0, 0, 0, 0.24);\\r\\n  }\\r\\n  .form input {\\r\\n    font-family: \\\"Roboto\\\", sans-serif;\\r\\n    outline: 0;\\r\\n    background: #f2f2f2;\\r\\n    width: 100%;\\r\\n    border: 0;\\r\\n    margin: 0 0 15px;\\r\\n    padding: 15px;\\r\\n    box-sizing: border-box;\\r\\n    font-size: 14px;\\r\\n  }\\r\\n  .form button {\\r\\n    font-family: \\\"Roboto\\\", sans-serif;\\r\\n    text-transform: uppercase;\\r\\n    outline: 0;\\r\\n    background: #4CAF50;\\r\\n    width: 100%;\\r\\n    border: 0;\\r\\n    padding: 15px;\\r\\n    color: #FFFFFF;\\r\\n    font-size: 14px;\\r\\n    transition: all 0.3 ease;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n  .form button:hover,.form button:active,.form button:focus {\\r\\n    background: #43A047;\\r\\n  }\\r\\n  .form .message {\\r\\n    margin: 15px 0 0;\\r\\n    color: #b3b3b3;\\r\\n    font-size: 12px;\\r\\n  }\\r\\n  .form .message a {\\r\\n    color: #4CAF50;\\r\\n    text-decoration: none;\\r\\n  }\\r\\n  .form .register-form {\\r\\n    display: none;\\r\\n  }\\r\\n  .container {\\r\\n    position: relative;\\r\\n    z-index: 1;\\r\\n    max-width: 300px;\\r\\n    margin: 0 auto;\\r\\n  }\\r\\n  .container:before, .container:after {\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    clear: both;\\r\\n  }\\r\\n  .container .info {\\r\\n    margin: 50px auto;\\r\\n    text-align: center;\\r\\n  }\\r\\n  .container .info h1 {\\r\\n    margin: 0 0 15px;\\r\\n    padding: 0;\\r\\n    font-size: 36px;\\r\\n    font-weight: 300;\\r\\n    color: #1a1a1a;\\r\\n  }\\r\\n  .container .info span {\\r\\n    color: #4d4d4d;\\r\\n    font-size: 12px;\\r\\n  }\\r\\n  .container .info span a {\\r\\n    color: #000000;\\r\\n    text-decoration: none;\\r\\n  }\\r\\n  .container .info span .fa {\\r\\n    color: #EF3B3A;\\r\\n  }\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// G:/Dashboard/update/sp-project/src/app/login/login.component.css\n// module id = ../../../../../src/app/login/login.component.css\n// module chunks = login.module","module.exports = \"<div class=\\\"login-page\\\">\\r\\n  <div class=\\\"title animate_fadein\\\"> \\r\\n    Strategic Planning\\r\\n  </div>\\r\\n  <div class=\\\"form\\\">\\r\\n    <form [formGroup]=\\\"loginForm\\\" (submit)=\\\"onSubmit()\\\" class=\\\"login-form\\\">\\r\\n      <input type=\\\"text\\\" name='username' id='username' formControlName=\\\"username\\\" placeholder=\\\"Username\\\"/>\\r\\n      <input type='password' name='password' id='password' formControlName=\\\"password\\\" placeholder=\\\"Password\\\"/>\\r\\n      <button type=\\\"submit\\\" value=\\\"Sign in\\\" [disabled]=\\\"loginForm.invalid\\\">login</button>\\r\\n      <div *ngIf=\\\"loginStart\\\"></div>\\r\\n      <!-- <p class=\\\"message\\\">Not registered? <a href=\\\"#\\\">Create an account</a></p> -->\\r\\n      <p *ngIf=\\\"error\\\" class=\\\"message\\\">Invalid Username/Password</p>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// G:/Dashboard/update/sp-project/src/app/login/login.component.html\n// module id = ../../../../../src/app/login/login.component.html\n// module chunks = login.module","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { CredentialService } from './login.service';\r\n// import { CommonService } from '../../providers/common.service';\r\nimport { StorageService } from \"../shared/storage.service\";\r\n// import { OrganizationService2 } from '../../providers/organization.service2';\r\ndeclare let $:any;\r\n\r\n@Component({\r\n  selector:'login',\r\n  templateUrl:'./login.component.html',\r\n  styleUrls:['./login.component.css']\r\n})\r\nexport class LoginComponent{\r\n  public loginForm: FormGroup;\r\n  public role:string;\r\n  public loginStart: boolean = false;\r\n  public error:boolean = false;\r\n  constructor(public formBuilder: FormBuilder,\r\n              public router:Router,\r\n              private commonService: StorageService,\r\n              public credentialService: CredentialService,\r\n              // public org_ser: OrganizationService2,\r\n              ){\r\n    this.loginForm = this.formBuilder.group({\r\n      username: ['', Validators.required],\r\n      password: ['', [Validators.required]]\r\n    });\r\n  }\r\n  ngOnInit() {\r\n    if (localStorage.getItem('user_roleInfo')) {\r\n      // this.router.navigateByUrl(\"/\"+this.commonService.getData('user_roleInfo')[0].role);\r\n    }\r\n  }\r\n  ngAfterViewChecked() {\r\n    $(\"#login-button\").click(function(event:any) {\r\n      event.preventDefault();\r\n      $('form').fadeOut(500);\r\n      $('.wrapper').addClass('form-success');\r\n    });\r\n  }\r\n  private onSubmit() {\r\n    this.loginStart = true;\r\n    this.credentialService.verifyUser(this.loginForm.value).subscribe((res) => {\r\n      this.commonService.storeData(\"access_token\", res.access_token);\r\n      this.commonService.storeData(\"role\", res.userDetails.roleInfo[0].role);\r\n      this.commonService.storeData(\"userDetails\",res.userDetails)\r\n      this.commonService.storeData(\"user_roleInfo\", res.userDetails.roleInfo);   \r\n      this.role = res.userDetails.roleInfo[0].role;\r\n      if(this.role == \"planner\"||this.role == \"admin\"){\r\n        this.fetchOrganizationInfo(res);\r\n      } else {\r\n        this.onSuccess();\r\n      }\r\n      this.onSuccess();  \r\n        \r\n    }, (err) => {\r\n      this.onError();\r\n    });\r\n  }\r\n  \r\n  public fetchOrganizationInfo(user_info:any) {\r\n    // this.org_ser.fetchOrganizationInfo().subscribe((res:any) => {\r\n    //   this.commonService.storeData(\"org_info\", res);\r\n    //   this.onSuccess();    \r\n    // }, (err:any) => {\r\n    //   this.onError();\r\n    // });\r\n  }\r\n\r\n  public onSuccess() {\r\n    this.loginStart = false;\r\n    this.router.navigateByUrl(\"/\"+this.role);\r\n  }  \r\n\r\n  public onError() {\r\n    this.loginStart = false;\r\n    this.error = true;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// G:/Dashboard/update/sp-project/src/app/login/login.component.ts","import { NgModule } from '@angular/core';\r\nimport { LoginComponent } from './login.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CredentialService } from './login.service';\r\nimport { SharedModule } from \"../shared/shared.module\";\r\n@NgModule({\r\n\timports: [SharedModule,RouterModule.forChild([{\r\n\t path: '', component: LoginComponent \r\n\t }])],\r\n\tdeclarations : [LoginComponent],\r\n\t// exports: [RouterModule],\r\n\tproviders:[CredentialService]\r\n})\r\nexport class LoginModule { }\n\n\n// WEBPACK FOOTER //\n// G:/Dashboard/update/sp-project/src/app/login/login.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http,Response, Headers, RequestOptions } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\nimport {StorageService} from '../shared/storage.service';\r\n@Injectable()\r\nexport class CredentialService {\r\n  public baseUrl: string = \"https://strategic-plannning.cloud.cms500.com/apiv2\";\r\n  login: any = false;\r\n  headers: any;\r\n  access_token: string;\r\n  private loggedIn = false;\r\n  constructor(private http: Http, private storageService:StorageService) {    \r\n    this.loggedIn = !!localStorage.getItem('access_token');\r\n  }\r\n\r\n  resetLoginStatus() {\r\n    this.login = false;\r\n  }\r\n\r\n  isLoggedIn() {\r\n    let access_token:any = localStorage.getItem(\"access_token\");\r\n    if (access_token) {\r\n      return !this.login;\r\n    } else {\r\n      return this.login;\r\n    }\r\n  }\r\n\r\n  verifyUser(data: Object) {\r\n    return this.http.post(this.baseUrl + \"/login\", data)\r\n                    .map(this.extractData)\r\n                    .catch(this.handleError);\r\n  }\r\n\r\n  logOut(){\r\n    localStorage.clear();    \r\n  }\r\n\r\n  private extractData(res: Response) {\r\n    let body = res.json();\r\n    return body || {};\r\n  }\r\n\r\n  private handleError(error: Response | any) {\r\n    return Observable.throw(error.status);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// G:/Dashboard/update/sp-project/src/app/login/login.service.ts"],"sourceRoot":"webpack:///"}