{"version":3,"sources":["G:/Dashboard/update/sp-project/src/app/planner/spi/spi.component.html","G:/Dashboard/update/sp-project/src/app/planner/spi/spi.component.ts","G:/Dashboard/update/sp-project/src/app/planner/spi/spi.module.ts"],"names":[],"mappings":"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","file":"spi.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n  <div class=\\\"panel\\\">\\r\\n    <div class=\\\"panel-heading background-3\\\">Edit Section</div>\\r\\n    <div class=\\\"panel-body\\\">\\r\\n      <form [formGroup]=\\\"spiForm\\\" (submit)=\\\"onSubmit()\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label class=\\\"control-label\\\" for=\\\"year\\\">Strategic Plan:</label>\\r\\n              <select id=\\\"year\\\" name=\\\"year\\\" class=\\\"form-control\\\" formControlName=\\\"cycleId\\\" (ngModelChange)=\\\"getObjective($event)\\\">\\r\\n                  <option *ngFor=\\\"let c of cycles;let y = index;\\\" [value]=\\\"y\\\">{{c.planYear}}: [{{c.startYear}} To {{c.endYear}}] : {{c.description}}</option>\\r\\n              </select>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label for=\\\"sel1\\\">Select Goal:</label>\\r\\n              <select class=\\\"form-control\\\" id=\\\"sel1\\\" formControlName=\\\"goalId\\\">\\r\\n              <option *ngFor=\\\"let objective of objectives;let i=index;\\\" [value]=\\\"objective.goalId\\\">{{i+1}}.{{objective.goal}}</option>\\r\\n            </select>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Enter SPI :</label>\\r\\n              <textarea class=\\\"form-control\\\" rows=\\\"4\\\" formControlName=\\\"spi\\\"></textarea>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Measure Mode:</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"measureUnit\\\">\\r\\n              <option value=\\\"\\\" disabled selected>Choose Measurement Unit</option>\\r\\n              <option value=\\\"percentage\\\">Percent</option>\\r\\n              <option value=\\\"number\\\">Number</option>\\r\\n              <option value=\\\"rate\\\">Rate</option>\\r\\n            </select>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Base Line</label>\\r\\n              <input type=\\\"number\\\" min=\\\"0\\\" step=\\\"1\\\" class=\\\"form-control\\\" formControlName=\\\"baseline\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-sm-6\\\">\\r\\n            <div class=\\\"checkbox form-group\\\">\\r\\n              <label>\\r\\n              <input type=\\\"checkbox\\\" formControlName=\\\"direction\\\"> Improvement direction (+ve)\\r\\n            </label>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-sm-6\\\">\\r\\n            <div class=\\\"checkbox form-group\\\">\\r\\n              <label>\\r\\n              <input type=\\\"checkbox\\\" formControlName=\\\"approvalRequired\\\"> Approval Required \\r\\n            </label>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Remarks :</label>\\r\\n              <textarea class=\\\"form-control\\\" rows=\\\"5\\\" formControlName=\\\"remarks\\\"></textarea>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-6 col-xs-12 col-sm-6\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n              <label>Help Text :</label>\\r\\n              <textarea class=\\\"form-control\\\" rows=\\\"5\\\" formControlName=\\\"helpText\\\"></textarea>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <!-- <div class=\\\"panel panel-default\\\" formArrayName=\\\"targetDigital\\\">\\r\\n          <div class=\\\"panel-heading background-transparent background-5\\\">\\r\\n            <b>Annual Target</b>\\r\\n          </div>\\r\\n          <div class=\\\"panel-body\\\">\\r\\n            <div class=\\\"form-group row\\\">\\r\\n              <div class=\\\"col-lg-3 col-sm-3 col-xs-12 col-md-3\\\" *ngFor=\\\"let td of spiForm.controls.targetDigital.controls;let m = index;\\\"\\r\\n                [formGroupName]=\\\"m\\\">\\r\\n                <label for=\\\"example-text-input\\\">{{td.value.year}}</label>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" step=\\\"1\\\" class=\\\"form-control\\\" formControlName=\\\"expectedLevel\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div> -->\\r\\n        <button type=\\\"submit\\\" class=\\\"btn btn-success\\\" [disabled]=\\\"spiForm.invalid\\\">Submit</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default btn-danger\\\" (click)=\\\"spiForm.reset()\\\" data-dismiss=\\\"modal\\\">Clear</button>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"panel\\\">\\r\\n    <div class=\\\"panel-heading background-4\\\">Strategic Planning - Strategic Performance Indicators\\r\\n      <span class=\\\"pull-right\\\" style=\\\"cursor:pointer\\\">\\r\\n      <div class=\\\"ctooltip\\\">\\r\\n        <i class=\\\"glyphicon glyphicon-plus\\\"></i>\\r\\n        <span class=\\\"ctooltiptext\\\">Add Activity</span>\\r\\n    </div>\\r\\n    </span>\\r\\n  </div>\\r\\n  <table class=\\\"table table-bordered header-background\\\" id=\\\"thable\\\" *ngIf=\\\"spis.length\\\">\\r\\n    <colgroup>\\r\\n      <col width=\\\"50%\\\">\\r\\n      <col width=\\\"48%\\\">\\r\\n      <col width=\\\"1%\\\">\\r\\n      <col width=\\\"1%\\\">\\r\\n    </colgroup>\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Goal</th>\\r\\n        <th>Performance Indicator</th>\\r\\n        <th></th>\\r\\n        <th></th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody class=\\\"body-background\\\" *ngFor=\\\"let goal of spis;let i = index;\\\">\\r\\n      <tr>\\r\\n        <td [attr.rowspan]=\\\"goal.spis.length+1\\\" style=\\\"vertical-align: middle;\\\">{{goal.goal}}</td>\\r\\n      </tr>\\r\\n      <ng-template let-spi ngFor [ngForOf]=\\\"goal.spis\\\" let-j=\\\"index\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"vertical-align: middle;\\\">\\r\\n            <div>{{spi.spi}}</div>\\r\\n          </td>\\r\\n          <td style=\\\"vertical-align: middle;\\\"><i class=\\\"glyphicon glyphicon-edit\\\" style=\\\"cursor:pointer;\\\" (click)=\\\"updateSpi(goal.goalId,spi)\\\"></i></td>\\r\\n          <td style=\\\"vertical-align: middle;\\\"><i class=\\\"glyphicon glyphicon-remove\\\" style=\\\"cursor:pointer;\\\" (click)=\\\"deleteSpi(spi.spiId,goal.spis,j)\\\"></i></td>\\r\\n        </tr>\\r\\n      </ng-template>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <p class=\\\"text-center\\\" *ngIf=\\\"!spis.length\\\" style=\\\"padding-top: 5px;\\\">No SPI Added Yet...</p>\\r\\n</div>\\r\\n\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// G:/Dashboard/update/sp-project/src/app/planner/spi/spi.component.html\n// module id = ../../../../../src/app/planner/spi/spi.component.html\n// module chunks = spi.module","import { Component, AfterViewInit} from '@angular/core';\r\nimport { UniversityService } from \"../../shared/UTI.service\";\r\nimport { FormBuilder, Validators, FormGroup, FormArray } from \"@angular/forms\";\r\nimport { StorageService } from \"../../shared/storage.service\";\r\n\r\ndeclare let $:any;\r\n\r\n@Component({\r\n  selector: 'spi',\r\n  templateUrl: './spi.component.html',\r\n  styleUrls: ['./../planner.component.css']\r\n})\r\nexport class SPIComponent implements AfterViewInit{\r\n  public cycles:any[]=[];\r\n  public spis: any[]=[];\r\n  public objectives: any[];\r\n  public spiForm: FormGroup;\r\n  constructor(public orgService: UniversityService,\r\n    public formBuilder: FormBuilder,\r\n    public commonService: StorageService) {\r\n    // this.orgService.getObjectives().subscribe((response: any) => {\r\n    //   this.objectives = response;\r\n    // });\r\n    this.getCycles();\r\n    this.getSpis();\r\n    this.spiForm = this.inItSpi();\r\n  }\r\n\r\n  ngAfterViewInit(){\r\n    \r\n  }\r\n\r\n  getCycles(){\r\n    this.orgService.getCycleWithChildren().subscribe((response:any)=>{\r\n      if(response.status == 204){\r\n        this.cycles = [];\r\n      }else{\r\n        this.cycles = response;\r\n      }\r\n    })\r\n  }\r\n\r\n  getObjective(cycleId:any){\r\n    if(cycleId)\r\n    this.objectives = this.cycles[cycleId].goals;\r\n  }\r\n\r\n  getSpis(){\r\n    this.orgService.getSpis().subscribe((res: any) => {\r\n      if(res.status == 204){\r\n        this.spis = [];\r\n      }else{\r\n      this.spis = res;\r\n      }\r\n    });\r\n  }\r\n\r\n  inItSpi() {\r\n    return this.formBuilder.group({\r\n      \"cycleId\":['',[Validators.required]],\r\n      \"goalId\":['', [Validators.required]],\r\n      \"spi\": ['', [Validators.required]],\r\n      \"measureUnit\": ['', [Validators.required]],\r\n      \"direction\":[false,[Validators.required]],\r\n      \"baseline\": ['', [Validators.required]],\r\n      \"approvalRequired\":[false,[Validators.required]],\r\n      \"remarks\":[''],\r\n      \"helpText\":['']\r\n      // \"frequencyId\": [1],\r\n      // \"targetDigital\": this.formBuilder.array(this.inItTarget())\r\n    });\r\n  }\r\n\r\n  updateSpi(goalId:any,spi:any){\r\n    this.spiForm.patchValue({\r\n      \"goalId\":goalId,\r\n      \"spi\": spi.spi,\r\n      \"measureUnit\": spi.measureUnit,\r\n      \"direction\":spi.direction,\r\n      \"baseline\": spi.baseline,\r\n      \"approvalRequired\":spi.approvalRequired,\r\n      \"remarks\":spi.remarks,\r\n      \"helpText\":spi.helpText\r\n    });\r\n  }\r\n\r\n  deleteSpi(spiId:any,spis:any[],index:any){\r\n    if(confirm(\"SPi will be deleted permanently..\"))\r\n    this.orgService.deleteSpi(spiId).subscribe((response:any)=>{\r\n      spis.splice(index,1);\r\n      console.log(\"success\");\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  inItTarget() {\r\n    const fa: any[] = [];\r\n    this.commonService.getData('org_info').cycle.forEach((element: any) => {\r\n      fa.push(this.inItTargetDigital(element));\r\n    });\r\n    return fa;\r\n  }\r\n\r\n  inItTargetDigital(year: any) {\r\n    return this.formBuilder.group({\r\n      \"year\": [year, [Validators.required]],\r\n      \"expectedLevel\": ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  onSubmit(){\r\n    delete this.spiForm.value[\"cycleId\"]\r\n    this.orgService.saveSpi(this.spiForm.value).subscribe((res:any)=>{\r\n      this.spiForm.reset();\r\n      this.getSpis();\r\n    })\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// G:/Dashboard/update/sp-project/src/app/planner/spi/spi.component.ts","import { NgModule } from '@angular/core';\r\nimport { SPIComponent } from './spi.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from \"../../shared/shared.module\";\r\n\r\n@NgModule({\r\n\timports: [SharedModule,RouterModule.forChild([{\r\n\t path: '', component: SPIComponent \r\n\t }])],\r\n\tproviders:[],\r\n\tdeclarations : [SPIComponent],\r\n\t// exports: [RouterModule]\r\n})\r\nexport class SPIModule{\r\n}\n\n\n// WEBPACK FOOTER //\n// G:/Dashboard/update/sp-project/src/app/planner/spi/spi.module.ts"],"sourceRoot":"webpack:///"}